<html>
<head>
    <meta charset="utf-8">
    <title>Demo</title>

    <link rel="stylesheet" href="http://cdn.leafletjs.com/leaflet-0.7.3/leaflet.css" />
    <style type="text/css">
        #map {
            height: 100%;
        }
    </style>
</head>

<body>

    <div id="map">

    </div>
    <script type="text/javascript" src="http://cdn.leafletjs.com/leaflet-0.7.3/leaflet.js"></script>
    <script src="PowerMarker.js"></script>
    <!--<script src="js/bouncemarker.js"></script>-->
    <script text="text/javascript">
var mapBox = {
    //link: 'http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png',
    link: 'https://api.mapbox.com/v4/mapbox.pirates/{z}/{x}/{y}.png?access_token=pk.eyJ1Ijoia2h1ZXZ1IiwiYSI6ImNpZjd4dHp1MTAwMjJ0NWx4cWdhMTBpencifQ.BIcoEnbqjkzLJSzhAmO2Aw',
    attribution: 'Maps Â© <a href=\"www.openstreetmap.org/copyright\">MapBox</a> contributors'
}

var tiles = L.tileLayer(mapBox.link, {
    attribution: mapBox.attribution
});


var map = L.map('map', {
        zoomControl: true
    })
    .addLayer(tiles)
    .setView([46.9500, 7.4500], 10);

var parisKievLL = [[48.8567, 2.3508], [50.45, 30.523333]];
var londonParisRomeBerlinBucarest = [[51.507222, -0.1275], [48.8567, 2.3508], 
[41.9, 12.5], [52.516667, 13.383333], [44.4166,26.1]];
L.polyline(parisKievLL).addTo(map);
L.polyline(londonParisRomeBerlinBucarest, {color: 'red'}).addTo(map);
map.fitBounds(londonParisRomeBerlinBucarest);

var marker1 = L.Marker.powerMarker(parisKievLL[0], {name: 'marker1'}).setCallback(L.Marker.PowerMarker.movement(parisKievLL.slice(1), [100000])).addTo(map);
var marker2 = L.Marker.powerMarker(londonParisRomeBerlinBucarest[0], {name: 'marker2'}).setCallback(L.Marker.PowerMarker.movement(londonParisRomeBerlinBucarest.slice(1), [2000, 3000, 4000, 100000])).addTo(map);

marker1.start();
marker2.start();

    </script>
</body>
</html>